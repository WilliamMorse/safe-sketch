<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="UTF-8">
    <title>pressure plot</title>
    <script src="press.js"></script>
  </head>

  <body>
    <div id="elm"></div>
    <script>
      var app = Elm.Main.init({
        node: document.getElementById("elm")
      });

      function moveEventHandeler(event) {
        if (event.pointerType == "pen") {
            
            app.ports.penMoveEvent.send
                ( { events : event.getCoalescedEvents()
                  , predictions : event.getPredictedEvents()}
                )
          
        }
      }

      document.addEventListener("DOMContentLoaded", function () {
          console.log("DOMLoaded")
          var canvas = document.getElementById("pen")
          canvas.addEventListener("pointermove",  moveEventHandeler );
      });
  

  
  </script>
  </body>
</html>
