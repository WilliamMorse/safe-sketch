<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <title>"A view or two"</title>
    <script src="https://unpkg.com/elm-canvas@2.2.3/elm-canvas.js"></script>
    <script src="scroll.js"></script>
</head>

<body>
    <div id="elm"></div>
    <script>
        var app = Elm.ScrollSketch.init({
            node: document.getElementById("elm")
        });

        function moveEventHandeler(event) {
            if (event.pointerType == "pen") {

                app.ports.penMoveEvent.send
                    (
                        { events: event.getCoalescedEvents()
                        , predictions: event.getPredictedEvents()
                        }
                    )

            }
        }

        document.addEventListener("DOMContentLoaded", function () {
            console.log("DOMLoaded")
            var canvas = document.getElementById("sketchspace")
            canvas.addEventListener("pointermove", moveEventHandeler);
        });

    </script>
</body>

</html>
