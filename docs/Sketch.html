<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>safe sketch</title>
  <script src="sketch.js"></script>
</head>

<body>
  <div id="elm"></div>
  <script>
    var app = Elm.Sketch.init({
      node: document.getElementById("elm")
    });

    function moveEventHandeler(event) {
      if (event.pointerType == "pen") {
        app.ports.penMoveEvent.send
          (
            { events: event.getCoalescedEvents()
            , predictions: event.getPredictedEvents()
            }
          );

      }
    }

    document.addEventListener("DOMContentLoaded", function () {
          console.log("DOMLoaded");
          var canvas = document.getElementById("sketchspace");
          canvas.addEventListener("pointermove", moveEventHandeler);
    });

  </script>
</body>

</html>
